<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Historial de Viajes</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card *ngFor="let ride of passengerRides">
    <ion-card-header>
      <ion-card-title>Viaje {{ ride.id }}</ion-card-title>
      <ion-card-subtitle>{{ ride.date | date: 'short' }}</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-icon slot="start" name="person"></ion-icon>
        <ion-label>
          <h2>Conductor: {{ ride.driverName }}</h2>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-icon slot="start" name="pin"></ion-icon>
        <ion-label>Destino: {{ ride.destination }}</ion-label>
      </ion-item>
      <ion-item>
        <ion-icon slot="start" name="time"></ion-icon>
        <ion-label>Hora de salida: {{ ride.departureTime | date: 'shortTime' }}</ion-label>
      </ion-item>
      <ion-item>
        <ion-icon slot="start" name="cash"></ion-icon>
        <ion-label>Tarifa: {{ ride.cost }} CLP</ion-label>
      </ion-item>
      
      <ion-item button (click)="toggleDriverList(ride.id)">
        <ion-icon slot="start" name="people"></ion-icon>
        <ion-label>Conductor:</ion-label>
      </ion-item>

      <ion-list *ngIf="ride.showDrivers">
        <ion-item *ngFor="let driver of ride.drivers">
          <ion-avatar slot="start">
            <img [src]="driver.image" alt="Imagen de conductor" />
          </ion-avatar>
          <ion-label>
            {{ driver.name }}
          </ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
</ion-content>
